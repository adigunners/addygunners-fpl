<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIM Mumbai Fantasy League</title>
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root{
          --primary-color:#37003c;
          --secondary-color:#00ff85;
          --background-color:#f0f2f5;
          --card-background:#fff;
          --text-color:#333;
          --heading-color:#5d2163
        }
        body{
          font-family:'Poppins',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif;
          line-height:1.7;
          margin:0;
          background-color:var(--background-color);
          color:var(--text-color)
        }
        .container{
          max-width:1000px;
          margin:20px auto;
          background-color:transparent
        }
        header{
          background:linear-gradient(135deg,var(--primary-color),var(--heading-color));
          color:#fff;
          text-align:center;
          padding:40px 20px;
          border-radius:12px;
          box-shadow:0 8px 20px rgba(0,0,0,.15);
          margin-bottom:30px
        }
        header h1{
          margin:0;
          font-size:2.5rem;
          font-weight:700
        }
        header p{
          margin:5px 0 0;
          font-size:1.1rem;
          opacity:.9
        }
        main{padding:0}
        section{
          background-color:var(--card-background);
          padding:30px;
          margin-bottom:20px;
          border-radius:8px;
          box-shadow:0 4px 15px rgba(0,0,0,.08)
        }
        h2{
          color:var(--heading-color);
          border-bottom:2px solid #f0f2f5;
          padding-bottom:10px;
          margin-top:0;
          font-size:1.8rem
        }
        .cta-button{
          display:inline-block;
          background-color:var(--secondary-color);
          color:var(--primary-color);
          padding:12px 25px;
          text-decoration:none;
          font-weight:600;
          border-radius:5px;
          margin-top:10px;
          transition:transform .2s ease,box-shadow .2s ease
        }
        .cta-button:hover{
          transform:translateY(-3px);
          box-shadow:0 6px 12px rgba(0,255,133,.3)
        }
        footer{
          text-align:center;
          font-size:.8rem;
          color:#888;
          padding:20px
        }
        
        /* --- New Stats Row for player and pot --- */
        .stats-row {
          display: flex;
          flex-wrap: wrap;
          gap: 24px;
          justify-content: center;
          margin-bottom: 20px;
        }
        .stat-box {
          flex: 1 1 220px;
          min-width: 220px;
          max-width: 360px;
          background: var(--card-background);
          border-radius: 8px;
          box-shadow: 0 4px 15px rgba(0,0,0,0.08);
          padding: 28px 20px 22px 20px;
          text-align: center;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
        }
        .stat-icon {
          font-size: 2.2rem;
          margin-bottom: 10px;
        }
        .stat-title {
          font-weight: 700;
          font-size: 1.35rem;
          color: var(--heading-color);
          margin-bottom: 8px;
        }
        .stat-number {
          font-weight: 700;
          font-size: 2.5rem;
          color: var(--primary-color);
          letter-spacing: 1px;
        }
        .stat-label {
          font-size: 0.93rem;
          color: #777;
          margin-top: 8px;
          font-style: italic;
        }

        /* Existing section styles for the rest of the content... */

        @media (max-width: 800px){
          .container { max-width:98vw; }
          .stats-row { gap: 14px; }
        }
        @media (max-width: 600px){
          .stats-row {
            flex-direction: column;
            gap: 12px;
          }
          .stat-box {
            min-width: unset;
            max-width: unset;
            width: 100%;
            padding: 20px 10px 16px 10px;
          }
          header h1 { font-size:1.8rem }
          section {padding:20px}
          h2{font-size:1.5rem}
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèÜ IIM Mumbai Fantasy League üèÜ</h1>
            <p>Season 2025-26</p>
        </header>

        <main>
            <!-- STATS ROW -->
            <div class="stats-row">
                <!-- PLAYER COUNT BOX -->
                <div class="stat-box">
                    <div class="stat-icon" title="Players">&#9917;</div> <!-- Football player Unicode/emoji -->
                    <div class="stat-title">Total Registered Players</div>
                    <div id="player-count" class="stat-number">--</div>
                    <div id="players-last-updated" class="stat-label">Fetching latest data...</div>
                </div>
                <!-- POT AMOUNT BOX -->
                <div class="stat-box">
                    <div class="stat-icon" title="Prize Pot">&#8377;</div> <!-- INR sign -->
                    <div class="stat-title">Total Pot Amount</div>
                    <div id="pot-amount" class="stat-number">--</div>
                    <div id="pot-last-updated" class="stat-label"></div>
                </div>
            </div>

            <section id="register">
                <h2>Join the League!</h2>
                <p>Ready to prove your FPL skills? Registration is now open. Click the button below to fill out the form and join the action.</p>
                <a href="https://forms.gle/xXRXCMKNtNMcGxsr9" class="cta-button" target="_blank">Register Now</a>
            </section>

            <section id="rules">
                <h2>League Rules & Prize Structure</h2>
                <p><strong>Entry Fee:</strong> ‚Çπ3,000</p>
                <h3>Prizes</h3>
                <ul>
                    <li><strong>Weekly Prizes:</strong> The top 2 managers every gameweek win cash prizes.</li>
                    <li><strong>Monthly Prizes:</strong> The best managers each month are rewarded from the prize pool.</li>
                    <li><strong>Overall Prizes:</strong> The top 10 managers at the end of the season will win substantial rewards from the grand prize pool.</li>
                </ul>
            </section>

            <section id="leaderboard">
                <h2>Leaderboard</h2>
                <p>The live leaderboard will be published here after the season begins. For now, all official standings are sent via the weekly email update.</p>
            </section>
        </main>
        
        <footer>
            <p>&copy; 2025 IIM Mumbai Fantasy League Organizing Committee</p>
        </footer>
    </div>

    <!-- === JS: DYNAMIC DATA FROM league_stats.json === -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // This will load data from your public GitHub Pages JSON
        const url = 'league_stats.json?cache=' + new Date().getTime();

        fetch(url)
          .then(response => {
            // This line prints details to the debug console!
            console.log('Fetch response:', response);
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(data => {
            // This prints your JSON to the debug console!
            console.log('Fetched league_stats.json:', data);
            document.getElementById('player-count').textContent = data.playerCount;
            document.getElementById('pot-amount').textContent = '‚Çπ' + Number(data.potAmount).toLocaleString('en-IN');
            // ... update last updated time if you wish ...
          })
          .catch(error => {
            // This prints errors to the debug console!
            console.error('Fetch error:', error);
            document.getElementById('player-count').textContent = '--';
            document.getElementById('pot-amount').textContent = '--';
          });
      });
    </script>
</body>
</html>
